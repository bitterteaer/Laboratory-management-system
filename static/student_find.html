<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户数据</title>

    <link rel="stylesheet" href="css/backstage.css">
    <link rel="stylesheet" href="layui/src/css/layui.css">
    <script type="text/javascript" src="js/JQ.js"></script>
    <script src="layui/src/layui.js"></script>

</head>
<body>
<button class="layui-btn" onclick="studentFind();">查找</button>
<!--姓名、性别、年龄、电话号码、购买类型、剩余次数、登记时间、次数消耗时间-->
<table class="layui-table">
    <thead>
    <tr>
        <!--<th lay-data="{field:'layTableCheckbox',type:'checkbox', fixed: 'left'}"></th>-->
        <!--<th lay-data="{edit:'text', field:'name', width:120, title: '姓名'}"></th>-->
        <!--<th lay-data="{edit:'text', field:'phone', width:120, title: '电话号码'}"></th>-->
        <!--<th lay-data="{edit:'text', field:'type', width:120, title: '购买类型'}"></th>-->
        <!--<th lay-data="{edit:'text', field:'class_', width:120, title: '班别'}"></th>-->
        <!--<th lay-data="{field:'layTableCheckbox',type:'checkbox', fixed: 'left'}"></th>-->
        <th>姓名</th>
        <th>年级</th>
        <th>角色</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <!--<td></td>-->
        <td><input id="name" class="layui-input" type="text"></td>
        <td><input id="grade" class="layui-input" type="text"></td>
        <td><input id="role" class="layui-input" type="text"></td>
    </tr>
    </tbody>
</table>
<p class="layui-colla-title">查找结果</p>
<table class="layui-table" lay-filter="parse-table-demo2">
    <thead>
    <tr>
        <!--<th lay-data="{field:'layTableCheckbox',type:'checkbox', fixed: 'left'}"></th>-->
        <th lay-data="{field:'id_user', width:100}">ID</th>
        <th lay-data="{field:'name', width:100}">姓名</th>
        <th lay-data="{field:'username', width:120}">学号</th>
        <th lay-data="{field:'phone', width:120}">电话</th>
        <th lay-data="{field:'grade', width:100}">年级</th>
        <th lay-data="{field:'role', width:100}">角色</th>
        <th lay-data="{field:'password', width:120}">密码</th>
    </tr>
    </thead>
    <tbody id="data1">
    </tbody>
</table>
</body>
<script>
    //查找学生
    var studentFind = function(){
        var name = document.getElementById("name").value;
        var role = document.getElementById("role").value;
        var grade = document.getElementById("grade").value;

        $.post(
            "/user/find_user_data_html",
            {
                "name":name,
                "role":role,
                "grade":grade,
            },
            function(data,states){
                document.getElementById("data1").innerHTML=data;

                /*
                layui.use('table', function(){
                    var table = layui.table;
                    table.init('parse-table-demo2', { //转化静态表格
                        //height: 'full-500'
                    });
                });*/
            }
        );
    }

</script>
</html>